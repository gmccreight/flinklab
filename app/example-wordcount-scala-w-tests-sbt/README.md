### What is example-wordcount-scala-sbt?

#### The Goal

You should be able to cd into this directory, run `000_all.sh`, and it will compile and run a Flink wordcount job using the Scala Build Tool ([sbt](https://www.scala-sbt.org/1.x/docs/index.html)).

To run and test your application locally, you can just execute `../../bin/sbt run`

You can also use `../../bin/sbt assembly` to compile a jar, then run it with flink:

```
 $ ../../bin/flink run app/example-wordcount-scala-sbt/target/scala-2.11/example-wordcount-scala-sbt-assembly-0.1-SNAPSHOT.jar
```

### Assumptions

You have docker-compose installed and docker running.


### Details and Motivation
The large majority of Scala developers appear to use sbt to build Scala applications. This project looks at how well it works with Flink. It was adapted from the code generated by this sbt template: https://github.com/tillrohrmann/flink-project.g8

Creating a jar for Flink depends on the [assembly plugin](https://github.com/sbt/sbt-assembly), which gets included by the `project/assembly.sbt` file. One question I had for this project is: how well does sbt package its jars? Also, is it inadvertently packaging anything that Maven is leaving out? Looking at the file size of the resulting jar, I was surprised to see that sbt's wordcount clocks in at 8.3kB, whereas the Maven Scala workcount is almost twice the size at 15kB. In both cases, the Flink dependencies are marked as "provided" (since they are expected to be present on all Flink job/taskmanagers), and I don't see any other dependencies listed in either project (except for log4j, which is scoped to `runtime`, which should mean that it isn't added to the jar). In contrast, the Java quickstart jar is 9kB - much closer to the sbt one - which leads me to conclude that sbt is simply substantially better at packaging Scala than Maven is.

Thanks in part to sbt, the [local-Scala quickstart](https://docs.scala-lang.org/getting-started/index.html) story appears to be far superior to Java with Maven. I was able to get a Flink project running through the following commands:

```
$ brew install coursier/formulas/coursier && cs setup
> <has an interactive prompt to set the PATH on your shell>
$ sbt new tillrohrmann/flink-project.g8
> <has an interactive prompt to set the project name and lib versions>
% cd <project-dir>
$ sbt run
> WordCount
```

The ability to `sbt run` and have the Flink program execute without sending it to a Flink cluster is a pretty nice feature. In theory there's nothing stopping us from running the other non-sbt examples locally, but I can't seem to get it to work using `mvn exec:java`.

I can also assemble this project locally (`sbt assmebly`) and run it with the Docker Flink as above, with no problems.
