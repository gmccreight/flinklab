#!/bin/bash

set -e

# Move to project root
cd $(dirname "$0")/..

case "$1" in
    sh)
        docker-compose run --rm console /bin/bash
        ;;
    scala-sh)
        case "$2" in
            remote)
                docker-compose run --rm console /opt/flink/bin/start-scala-shell.sh remote jobmanager 6123
                ;;
            *)
                docker-compose run --rm console /opt/flink/bin/start-scala-shell.sh local
                ;;
        esac
        ;;
    *)
        docker-compose run --rm console flink $*
esac
